# Enable URL rewriting
RewriteEngine On

# If the requested file or directory doesn't exist
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Redirect all other requests to index.php
RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]

# Prevent directory listing
Options -Indexes

# Protect sensitive files
<FilesMatch "^\.|composer\.(json|lock)|package\.json$|README\.md|CHANGELOG\.md|LICENSE\.txt|Dockerfile">
    Order allow,deny
    Deny from all
</FilesMatch>

# Set default charset
AddDefaultCharset UTF-8

# PHP error handling for development
# Comment these lines in production
php_flag display_errors on
php_value error_reporting E_ALL
